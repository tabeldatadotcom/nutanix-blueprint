{"status":{},"contains_secrets":true,"product_version":"3.7.1.1","spec":{"description":"for DevSecOps purpose\n- 1 GitLab\n- 2 GitLab Runner\n- OpenSearch Cluster:\n  - 1 master node (dashboard)\n  - 1 coordinator node\n  - 1 data node\n- SkyWalking\n","resources":{"client_attrs":{"ec79d0ae_deployment":{"y":14.190882057,"x":1120.9822144998},"4b929892-0efe-f696-dcce-fd49ce843224":{"y":318.8697126884,"x":636.6111304495},"5e6d1f75_deployment":{"y":-3.3552720126,"x":626.7244857455},"2024f0eb_deployment":{"y":427.7147102518,"x":1004.4444521798},"1bb6d40a_deployment":{"y":-13.646859296,"x":898.4751158643},"94cf3950_deployment":{"y":430.828043121,"x":799.9300146198},"fb61aeb2_deployment":{"y":448.1474865985,"x":605.2505767118},"5f2f2044_deployment":{"y":158.2033835067,"x":399.4077308226}},"service_definition_list":[{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Gitlab_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"08afe461_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"57d21ac2_runbook","main_task_local_reference":{"kind":"app_task","name":"08afe461_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Gitlab_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"fd018a7d_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"2141edb6_runbook","main_task_local_reference":{"kind":"app_task","name":"fd018a7d_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Gitlab_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"c862d5e8_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"df12a384_runbook","main_task_local_reference":{"kind":"app_task","name":"c862d5e8_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Gitlab_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"c18f7317_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"46765a10_runbook","main_task_local_reference":{"kind":"app_task","name":"c18f7317_dag"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Gitlab_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"1628752f_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"9b182c39_runbook","main_task_local_reference":{"kind":"app_task","name":"1628752f_dag"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[],"name":"Gitlab_svc","port_list":[],"tier":"","variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"IP_ADDRESS","value":"","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"INSTANCE_PUBLIC_KEY","value":"ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAii7qFDhVadLx5lULAG\/ooCUTA\/ATSmXbArs+GdHxbUWd\/bNGZCXnaQ2L1mSVVGDxfTbSaTJ3En3tVlMtD2RjZPdhqWESCaoj2kXLYSiNDS9qz3SK6h822je\/f9O9CzCTrw2XGhnDVwmNraUvO5wmQObCDthTXc72PcBOd6oa4ENsnuY9HtiETg29TZXgCYPFXipLBHSZYkBmGgccAeY9dq5ywiywBJLuoSovXkkRJk3cd7GyhCRIwYzqfdgSmiAMYgJLrz\/UuLxatPqXts2D8v1xqR9EPNZNzgd4QHK4of1lqsNRuz2SxkwqLcXSw0mGcAL8mIwVpzhPzwmENC5Orw== rsa-key-20190108","label":"","attrs":{"type":"LOCAL"},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}],"description":""},{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"GitLab_Runner_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"09018cb0_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"b66666a7_runbook","main_task_local_reference":{"kind":"app_task","name":"09018cb0_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"GitLab_Runner_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"bea67ede_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"add37b2f_runbook","main_task_local_reference":{"kind":"app_task","name":"bea67ede_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"GitLab_Runner_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"0f875acc_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"4322d8fc_runbook","main_task_local_reference":{"kind":"app_task","name":"0f875acc_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"GitLab_Runner_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"b564da3f_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"bd353206_runbook","main_task_local_reference":{"kind":"app_task","name":"b564da3f_dag"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"GitLab_Runner_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"9b89c44b_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"7bec5fd9_runbook","main_task_local_reference":{"kind":"app_task","name":"9b89c44b_dag"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[{"kind":"app_service","name":"Nexus_oss_svc"}],"name":"GitLab_Runner_svc","port_list":[],"tier":"","variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"INSTANCE_PUBLIC_KEY","value":"ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAii7qFDhVadLx5lULAG\/ooCUTA\/ATSmXbArs+GdHxbUWd\/bNGZCXnaQ2L1mSVVGDxfTbSaTJ3En3tVlMtD2RjZPdhqWESCaoj2kXLYSiNDS9qz3SK6h822je\/f9O9CzCTrw2XGhnDVwmNraUvO5wmQObCDthTXc72PcBOd6oa4ENsnuY9HtiETg29TZXgCYPFXipLBHSZYkBmGgccAeY9dq5ywiywBJLuoSovXkkRJk3cd7GyhCRIwYzqfdgSmiAMYgJLrz\/UuLxatPqXts2D8v1xqR9EPNZNzgd4QHK4of1lqsNRuz2SxkwqLcXSw0mGcAL8mIwVpzhPzwmENC5Orw== rsa-key-20190108","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}],"description":""},{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Nexus_oss_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"08afe461_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"57d21ac2_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"08afe461_dag_cloned_1"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Nexus_oss_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"fd018a7d_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"2141edb6_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"fd018a7d_dag_cloned_1"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Nexus_oss_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"c862d5e8_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"df12a384_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"c862d5e8_dag_cloned_1"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Nexus_oss_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"c18f7317_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"46765a10_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"c18f7317_dag_cloned_1"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"Nexus_oss_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"1628752f_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"9b182c39_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"1628752f_dag_cloned_1"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[],"name":"Nexus_oss_svc","port_list":[],"tier":"","variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"INSTANCE_PUBLIC_KEY","value":"ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAii7qFDhVadLx5lULAG\/ooCUTA\/ATSmXbArs+GdHxbUWd\/bNGZCXnaQ2L1mSVVGDxfTbSaTJ3En3tVlMtD2RjZPdhqWESCaoj2kXLYSiNDS9qz3SK6h822je\/f9O9CzCTrw2XGhnDVwmNraUvO5wmQObCDthTXc72PcBOd6oa4ENsnuY9HtiETg29TZXgCYPFXipLBHSZYkBmGgccAeY9dq5ywiywBJLuoSovXkkRJk3cd7GyhCRIwYzqfdgSmiAMYgJLrz\/UuLxatPqXts2D8v1xqR9EPNZNzgd4QHK4of1lqsNRuz2SxkwqLcXSw0mGcAL8mIwVpzhPzwmENC5Orw== rsa-key-20190108","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}],"description":""},{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_C_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"08afe461_dag_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"57d21ac2_runbook_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"08afe461_dag_cloned_1_cloned_1"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_C_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"fd018a7d_dag_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"2141edb6_runbook_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"fd018a7d_dag_cloned_1_cloned_1"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_C_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"c862d5e8_dag_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"df12a384_runbook_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"c862d5e8_dag_cloned_1_cloned_1"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_C_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"c18f7317_dag_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"46765a10_runbook_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"c18f7317_dag_cloned_1_cloned_1"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_C_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"1628752f_dag_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"9b182c39_runbook_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"1628752f_dag_cloned_1_cloned_1"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[{"kind":"app_service","name":"OpenSearch_D_svc"}],"name":"OpenSearch_C_svc","port_list":[],"tier":"","variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"INSTANCE_PUBLIC_KEY","value":"ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAii7qFDhVadLx5lULAG\/ooCUTA\/ATSmXbArs+GdHxbUWd\/bNGZCXnaQ2L1mSVVGDxfTbSaTJ3En3tVlMtD2RjZPdhqWESCaoj2kXLYSiNDS9qz3SK6h822je\/f9O9CzCTrw2XGhnDVwmNraUvO5wmQObCDthTXc72PcBOd6oa4ENsnuY9HtiETg29TZXgCYPFXipLBHSZYkBmGgccAeY9dq5ywiywBJLuoSovXkkRJk3cd7GyhCRIwYzqfdgSmiAMYgJLrz\/UuLxatPqXts2D8v1xqR9EPNZNzgd4QHK4of1lqsNRuz2SxkwqLcXSw0mGcAL8mIwVpzhPzwmENC5Orw== rsa-key-20190108","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}],"description":"OpenSearch Coordinator"},{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_D_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"08afe461_dag_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"57d21ac2_runbook_cloned_0_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"08afe461_dag_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_D_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"fd018a7d_dag_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"2141edb6_runbook_cloned_0_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"fd018a7d_dag_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_D_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"c862d5e8_dag_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"df12a384_runbook_cloned_0_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"c862d5e8_dag_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_D_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"c18f7317_dag_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"46765a10_runbook_cloned_0_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"c18f7317_dag_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_D_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"1628752f_dag_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"9b182c39_runbook_cloned_0_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"1628752f_dag_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[{"kind":"app_service","name":"OpenSearch_M_svc"}],"name":"OpenSearch_D_svc","port_list":[],"tier":"","variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"INSTANCE_PUBLIC_KEY","value":"ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAii7qFDhVadLx5lULAG\/ooCUTA\/ATSmXbArs+GdHxbUWd\/bNGZCXnaQ2L1mSVVGDxfTbSaTJ3En3tVlMtD2RjZPdhqWESCaoj2kXLYSiNDS9qz3SK6h822je\/f9O9CzCTrw2XGhnDVwmNraUvO5wmQObCDthTXc72PcBOd6oa4ENsnuY9HtiETg29TZXgCYPFXipLBHSZYkBmGgccAeY9dq5ywiywBJLuoSovXkkRJk3cd7GyhCRIwYzqfdgSmiAMYgJLrz\/UuLxatPqXts2D8v1xqR9EPNZNzgd4QHK4of1lqsNRuz2SxkwqLcXSw0mGcAL8mIwVpzhPzwmENC5Orw== rsa-key-20190108","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}],"description":"OpenSearch Data"},{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_M_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"08afe461_dag_cloned_1_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"57d21ac2_runbook_cloned_0_cloned_0_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"08afe461_dag_cloned_1_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_M_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"fd018a7d_dag_cloned_1_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"2141edb6_runbook_cloned_0_cloned_0_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"fd018a7d_dag_cloned_1_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_M_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"c862d5e8_dag_cloned_1_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"df12a384_runbook_cloned_0_cloned_0_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"c862d5e8_dag_cloned_1_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_M_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"c18f7317_dag_cloned_1_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"46765a10_runbook_cloned_0_cloned_0_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"c18f7317_dag_cloned_1_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_M_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"1628752f_dag_cloned_1_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"9b182c39_runbook_cloned_0_cloned_0_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"1628752f_dag_cloned_1_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[],"name":"OpenSearch_M_svc","port_list":[],"tier":"","variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"INSTANCE_PUBLIC_KEY","value":"ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAii7qFDhVadLx5lULAG\/ooCUTA\/ATSmXbArs+GdHxbUWd\/bNGZCXnaQ2L1mSVVGDxfTbSaTJ3En3tVlMtD2RjZPdhqWESCaoj2kXLYSiNDS9qz3SK6h822je\/f9O9CzCTrw2XGhnDVwmNraUvO5wmQObCDthTXc72PcBOd6oa4ENsnuY9HtiETg29TZXgCYPFXipLBHSZYkBmGgccAeY9dq5ywiywBJLuoSovXkkRJk3cd7GyhCRIwYzqfdgSmiAMYgJLrz\/UuLxatPqXts2D8v1xqR9EPNZNzgd4QHK4of1lqsNRuz2SxkwqLcXSw0mGcAL8mIwVpzhPzwmENC5Orw== rsa-key-20190108","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}],"description":"OpenSearch Master (dashboard)"},{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"SkyWalking_APM_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"08afe461_dag_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"57d21ac2_runbook_cloned_0_cloned_0_cloned_1","main_task_local_reference":{"kind":"app_task","name":"08afe461_dag_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"SkyWalking_APM_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"fd018a7d_dag_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"2141edb6_runbook_cloned_0_cloned_0_cloned_1","main_task_local_reference":{"kind":"app_task","name":"fd018a7d_dag_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"SkyWalking_APM_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"c862d5e8_dag_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"df12a384_runbook_cloned_0_cloned_0_cloned_1","main_task_local_reference":{"kind":"app_task","name":"c862d5e8_dag_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"SkyWalking_APM_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"c18f7317_dag_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"46765a10_runbook_cloned_0_cloned_0_cloned_1","main_task_local_reference":{"kind":"app_task","name":"c18f7317_dag_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"SkyWalking_APM_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"1628752f_dag_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"9b182c39_runbook_cloned_0_cloned_0_cloned_1","main_task_local_reference":{"kind":"app_task","name":"1628752f_dag_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[],"name":"SkyWalking_APM_svc","port_list":[],"tier":"","variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"INSTANCE_PUBLIC_KEY","value":"ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAii7qFDhVadLx5lULAG\/ooCUTA\/ATSmXbArs+GdHxbUWd\/bNGZCXnaQ2L1mSVVGDxfTbSaTJ3En3tVlMtD2RjZPdhqWESCaoj2kXLYSiNDS9qz3SK6h822je\/f9O9CzCTrw2XGhnDVwmNraUvO5wmQObCDthTXc72PcBOd6oa4ENsnuY9HtiETg29TZXgCYPFXipLBHSZYkBmGgccAeY9dq5ywiywBJLuoSovXkkRJk3cd7GyhCRIwYzqfdgSmiAMYgJLrz\/UuLxatPqXts2D8v1xqR9EPNZNzgd4QHK4of1lqsNRuz2SxkwqLcXSw0mGcAL8mIwVpzhPzwmENC5Orw== rsa-key-20190108","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}],"description":"SkyWalking APM"}],"substrate_definition_list":[{"description":"","action_list":[],"type":"AHV_VM","name":"GitLab","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"10","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"os_type":"Linux","create_spec":{"name":"vm-@@{calm_array_index}@@-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","vpc_reference":null,"ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"62f95bdf-6150-4a6d-b6ff-b650b8f3b76c"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":4,"num_sockets":2,"gpu_list":[],"memory_size_mib":8192,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n  - name: root\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\nchpasswd:\n  list: |\n    root:nutanix\/4u\n  expire: False\nssh_pwauth: true"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"dd29e6b7-6e66-4f5d-be46-4d3a63952165","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"LEGACY","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"LinuxToolsVM.qcow2","uuid":"c8251d5f-2141-4073-88e2-845e4548b2ba"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":{"kind":"cluster","type":"","name":"PHX-POC236","uuid":"00061b46-b87c-20da-4b05-0894efb50acc"},"categories":{}},"variable_list":[]},{"description":"","action_list":[],"type":"AHV_VM","name":"GitLab_Runner","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"10","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"os_type":"Linux","create_spec":{"name":"vm-GitLab-Runner-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","vpc_reference":null,"ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"62f95bdf-6150-4a6d-b6ff-b650b8f3b76c"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":6,"num_sockets":2,"gpu_list":[],"memory_size_mib":8192,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n  - name: root\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\nchpasswd:\n  list: |\n    root:nutanix\/4u\n  expire: False\nssh_pwauth: true"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"dd29e6b7-6e66-4f5d-be46-4d3a63952165","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"LEGACY","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"LinuxToolsVM.qcow2","uuid":"c8251d5f-2141-4073-88e2-845e4548b2ba"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":{"kind":"cluster","type":"","name":"PHX-POC236","uuid":"00061b46-b87c-20da-4b05-0894efb50acc"},"categories":{}},"variable_list":[]},{"description":"","action_list":[],"type":"AHV_VM","name":"Nexus_OSS","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"10","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"os_type":"Linux","create_spec":{"name":"vm-Nexus-OSS-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","vpc_reference":null,"ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"62f95bdf-6150-4a6d-b6ff-b650b8f3b76c"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":4,"num_sockets":2,"gpu_list":[],"memory_size_mib":8192,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n  - name: root\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\nchpasswd:\n  list: |\n    root:nutanix\/4u\n  expire: False\nssh_pwauth: true"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"dd29e6b7-6e66-4f5d-be46-4d3a63952165","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"LEGACY","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"LinuxToolsVM.qcow2","uuid":"c8251d5f-2141-4073-88e2-845e4548b2ba"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":{"kind":"cluster","type":"","name":"PHX-POC236","uuid":"00061b46-b87c-20da-4b05-0894efb50acc"},"categories":{}},"variable_list":[]},{"description":"","action_list":[],"type":"AHV_VM","name":"OpenSearch_C","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"10","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"os_type":"Linux","create_spec":{"name":"vm-OpenSearch-C-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","vpc_reference":null,"ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"62f95bdf-6150-4a6d-b6ff-b650b8f3b76c"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":4,"num_sockets":2,"gpu_list":[],"memory_size_mib":8192,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n  - name: root\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\nchpasswd:\n  list: |\n    root:nutanix\/4u\n  expire: False\nssh_pwauth: true"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"dd29e6b7-6e66-4f5d-be46-4d3a63952165","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"LEGACY","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"LinuxToolsVM.qcow2","uuid":"c8251d5f-2141-4073-88e2-845e4548b2ba"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":{"kind":"cluster","type":"","name":"PHX-POC236","uuid":"00061b46-b87c-20da-4b05-0894efb50acc"},"categories":{}},"variable_list":[]},{"description":"","action_list":[],"type":"AHV_VM","name":"OpenSearch_D","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"10","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"os_type":"Linux","create_spec":{"name":"vm-OpenSearch-D-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","vpc_reference":null,"ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"62f95bdf-6150-4a6d-b6ff-b650b8f3b76c"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":4,"num_sockets":2,"gpu_list":[],"memory_size_mib":8192,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n  - name: root\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\nchpasswd:\n  list: |\n    root:nutanix\/4u\n  expire: False\nssh_pwauth: true"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"dd29e6b7-6e66-4f5d-be46-4d3a63952165","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"LEGACY","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"LinuxToolsVM.qcow2","uuid":"c8251d5f-2141-4073-88e2-845e4548b2ba"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}},{"data_source_reference":null,"type":"","disk_size_mib":524288,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":1,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":{"kind":"cluster","type":"","name":"PHX-POC236","uuid":"00061b46-b87c-20da-4b05-0894efb50acc"},"categories":{}},"variable_list":[]},{"description":"","action_list":[],"type":"AHV_VM","name":"OpenSearch_M","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"10","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"os_type":"Linux","create_spec":{"name":"vm-OpenSearch-M-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","vpc_reference":null,"ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"62f95bdf-6150-4a6d-b6ff-b650b8f3b76c"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":4,"num_sockets":2,"gpu_list":[],"memory_size_mib":8192,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n  - name: root\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\nchpasswd:\n  list: |\n    root:nutanix\/4u\n  expire: False\nssh_pwauth: true"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"dd29e6b7-6e66-4f5d-be46-4d3a63952165","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"LEGACY","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"LinuxToolsVM.qcow2","uuid":"c8251d5f-2141-4073-88e2-845e4548b2ba"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":{"kind":"cluster","type":"","name":"PHX-POC236","uuid":"00061b46-b87c-20da-4b05-0894efb50acc"},"categories":{}},"variable_list":[]},{"description":"","action_list":[],"type":"AHV_VM","name":"SkyWalking_APM","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"10","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"os_type":"Linux","create_spec":{"name":"vm-SkyWalking-APM-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","vpc_reference":null,"ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"62f95bdf-6150-4a6d-b6ff-b650b8f3b76c"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":4,"num_sockets":2,"gpu_list":[],"memory_size_mib":8192,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n  - name: root\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\nchpasswd:\n  list: |\n    root:nutanix\/4u\n  expire: False\nssh_pwauth: true"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"dd29e6b7-6e66-4f5d-be46-4d3a63952165","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"Linux_ToolsVM.qcow2","uuid":"c7be37b8-a765-4cbf-9d3e-4b13d1bda462"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":{"kind":"cluster","type":"","name":"PHX-POC236","uuid":"00061b46-b87c-20da-4b05-0894efb50acc"},"categories":{}},"variable_list":[]}],"credential_definition_list":[{"username":"root","description":"","type":"PASSWORD","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"98tYXn6Sva7FPt\/1f67REK7kHFFk0II9t47ZNltgmRIbL83i93CcBIj5:utf-8"},"name":"login","cred_class":"static"},{"username":"centos","description":"","type":"KEY","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"YM\/R0ViUaicPN2AagLq3PPh68JQoG7ZAEbS3nZwYsvpVBQRicAYtgzrrc8t0gDifuujuluUbifvhsRQ2Wt8mrJL7Kx6fM8Za\/D+VLQrK6Cgz+1OvARWqxUsR\/BYXeq8Pjrie9CbG2ZP+lMKiO93e5HqxdURZPX54GGHocV0mxXiSUZMqgB6M7NNlbvSKMxcDWrHxw6AGg7cr\/XoAFZseokbN92BlSJ7\/0Vl25DeB7x47ZFa0S6QVIB\/NoGCM+mnOXg5ieE8436iduJ2XVsx\/hAGFsxq6vBbdG+AgQvlmgguYTHE2KNgEMcDPFh2XcepWoh+0D\/ULhxegS6vdz1lsLHY\/6f72ffTWeSIQhrJxw87rMvpouaNzx1k6n3Fovxg3W18kLcqGcGKpAQfXTJUzl7c3m1Ska8aRjK3OunQjg6zxpe5nPqNP2vLJKT9oh1qf0l170ZxjLnZW++XnQJORO3z7XF+pKMsmWtRq3LjcNcu\/1VBd+HLHZJXD6CGs9raOe8+H+9mlfp5MVxHIO4U10jUy9KLP\/AGawvIHeehU8q6JD9HRoHwm3RYzWt2uT28IK0260vBlYwsYHplkhLaT2KWVasSbC1WcCSait29tliG+YVs\/FUacBrx\/N2tOF66TtNKe1ztJLQf\/DfgoDFdMVecHtmjRRKl5JZ5R84d1GYrHneCH2wYdSAG3pIWsLjYIotIUiaefbzE2qMo6dnnyjgQtXzLZGCFDTlBmuypirf5lW1fweeH0cfn\/cgA7JmANFyWLybNsSD8VoyWaZeOQfGBIDjSwbRLuyGIoY50GABhxaS4YZUhRyaWvIStMcC\/CnNa3tW+pzIy4Z0AiAkm8PxeqQmKpfnIVh4VMHbaaIvM7gJYr5B6gY22\/oJgIr2aHAP5MbiO9fZ4adTRLRutSVcDZPR55pobx1iD05Zo5vGdr9J4xfPUzWd6BKhywcZUVttUHDPyhEyPVP4kEK85IOyUeCIkuWtEdKEwdlzaLGqhN4YaDrCWwusorO6aZtR9L+3wbuII+DOuRQYuhb3vJIs8hyoq6SCccIWH2bdym\/BChT28ft49ss8rNuzNqQNsdWiKUs9iGibgat04qwQKzFDd0HwHw2XsGPCPAbSZBlUd1m7biGR02cL3H7x2oAuC\/bBeqpFkqcFZBMNIHoD2pOm1R3egIcDZlYyMZAefip3gAhjpnZqkClpM70DpPA16jAOtMnNc4VW5oJ6ruIWxLh0Fkx+8z4ChizQ1P2PHEi0+MUwukN6GRJzsyiyzP7lACvMgRTfxl0Ji+KwspymypwnHRCk22vloykd+3UJyWeYetGDyVBbuD2Qmfr3IGV9Ikobz7nC0gj0PfUEjlrz9P\/fzxYNLMKiB5b+Kn8bmy1oRqRUHNJG5ycQk0wLvDxVX6d0Mq9AO6gY+R4wPqw+UVpXIWKyB07A0k0iDuLA89GP2mAHGJzv\/coqPaq++7mcR6pWGRTxKeFvVgodnvD6RAsbbpdVzGZdnHxrJnDsegUcpwmPAoIGe88+kLSxycJyKDpYxsV8\/sjYik19CNo6ATav6rSCteSggyuQYyyYrNOyov+HgETGKvtt\/I87w6a8t8KfzP4TNlVOjA9h4hnTnI81raN9ID+cskKA\/TVsO3Xvua9in6skosa5ETwTcu5obvJFGGHlJj5qOjh2cD0MQ6IFEpKZEfXQpWDJBTDt16X1Epsk6G9yKkVy73B1AWLoCC+5+4U6cmLdtzdjn7YLHXVjvKmTRhUkkoKx5b5sRo8V5poQs+4rIQ5I\/1hzPR52XSQb\/9lCqz1XSi6jdGgS3snrYeFedTqwkxMaZKKvq+vwI6nWU7vZhDtzAbkodUQEAPQPN1rCVkv8eBhJGq2bzzchPzfAXQMayvOPq6zrgtbDLJUVs9fXFWUxddItKucSrK5mLuYPoaDJ\/tvYB526a2l+XU1RMCADPaKUt4G7eFCGczjthWKEzcM0G2Op6M4GMLDyepSC7uMhHu9ADcSevFdQ8ZAEkCN3uMHqxhSh5\/TjWe4yYrgMOFbXWG9CdX5CX388VjdXXZEC8Izii2iqXfmPGKoICVxvhyOa0M9oPKRGdPJmpJsci523Zcjl1Ru2nDsF1TXY1WgblCNmr6uRIWecJ7haM5wsnSb2JbdIZB60STlMzof4k8mg3WOQaYcDuUNZX3eurWBEapJv7R4HviIZWWhPcNGOs6cdzkDXCivSPvH7IGP3FOiJ80E3b0ZPkLm2O5DvpykWyciNPMPlqJYJAhSTU6sBpDqcU=:utf-8"},"name":"CENTOS","cred_class":"static"}],"package_definition_list":[{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"Gitlab_svc"}],"name":"GL","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GL"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[{"kind":"app_task","name":"install and update dependency"},{"kind":"app_task","name":"install gitlab package"}],"name":"19611dc4_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"install and update dependency"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"install gitlab package"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Gitlab_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"install and update dependency","attrs":{"exit_status":[],"script":"echo \"@@{IP_ADDRESS}@@\"\nyum update -y\n\nsudo systemctl enable sshd\nsudo systemctl start sshd\n\nsudo firewall-cmd --permanent --add-service=http\nsudo firewall-cmd --permanent --add-service=https\nsudo systemctl reload firewalld\n\nsudo yum install postfix -y\nsudo systemctl enable postfix\nsudo systemctl start postfix","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Gitlab_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"install gitlab package","attrs":{"exit_status":[],"script":"LC_ALL=\"en_US.UTF-8\"\nLC_CTYPE=\"en_US.UTF-8\"\n\ncurl https:\/\/packages.gitlab.com\/install\/repositories\/gitlab\/gitlab-ce\/script.rpm.sh | sudo bash\n\n# IP_ADDRESS=$(echo $(ip addr show eth0 | grep -oP '(?<=inet\\s)\\d+(\\.\\d+){3}'))\nsudo EXTERNAL_URL=\"http:\/\/@@{address}@@\" yum install -y gitlab-ce\necho \"@@{address}@@\"\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"5b3e28ec_runbook","main_task_local_reference":{"kind":"app_task","name":"19611dc4_dag"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GL"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"0c90e953_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"5bc486bc_runbook","main_task_local_reference":{"kind":"app_task","name":"0c90e953_dag"},"variable_list":[]},"upgrade_runbook":{}},"variable_list":[]},{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"GitLab_Runner_svc"}],"name":"GR","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GR"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[{"kind":"app_task","name":"install dependency"},{"kind":"app_task","name":"Install Runner"},{"kind":"app_task","name":"Install Docker Engine"}],"name":"283e9528_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"install dependency"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Install Runner"}},{"from_task_reference":{"kind":"app_task","name":"Install Runner"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Install Docker Engine"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"GitLab_Runner_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"install dependency","attrs":{"exit_status":[],"script":"yum update -y\n\nsudo yum install -y vim git tmux curl wget net-tools","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"GitLab_Runner_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"Install Runner","attrs":{"exit_status":[],"script":"curl -L \"https:\/\/packages.gitlab.com\/install\/repositories\/runner\/gitlab-runner\/script.rpm.sh\" | sudo bash && \\\nsudo yum -y install gitlab-runner\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"GitLab_Runner_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"Install Docker Engine","attrs":{"exit_status":[],"script":"sudo yum install -y yum-utils && \\\nsudo yum-config-manager \\\n    --add-repo \\\n    https:\/\/download.docker.com\/linux\/centos\/docker-ce.repo\n\n# install docker engine\nsudo yum install -y \\\n  docker-ce \\\n  docker-ce-cli \\\n  containerd.io \\\n  docker-compose-plugin\n\nsudo systemctl enable --now docker\n\n#firewall-cmd --zone=public --add-masquerade --permanent \n#firewall-cmd --zone=public --add-port=2375\/tcp --permanent\n#firewall-cmd --reload","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"bcd35b7f_runbook","main_task_local_reference":{"kind":"app_task","name":"283e9528_dag"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GR"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"9f8ad630_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"615f12ce_runbook","main_task_local_reference":{"kind":"app_task","name":"9f8ad630_dag"},"variable_list":[]},"upgrade_runbook":{}},"variable_list":[]},{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"Nexus_oss_svc"}],"name":"Nexus","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"Nexus"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[{"kind":"app_task","name":"install dependency"},{"kind":"app_task","name":"download nexus"},{"kind":"app_task","name":"init nexus"}],"name":"19611dc4_dag_cloned_1","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"install dependency"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"download nexus"}},{"from_task_reference":{"kind":"app_task","name":"download nexus"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"init nexus"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Nexus_oss_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"install dependency","attrs":{"exit_status":[],"script":"sudo yum update -y\nsudo yum install -y wget tar java-1.8.0-openjdk curl","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Nexus_oss_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"download nexus","attrs":{"exit_status":[],"script":"sudo wget https:\/\/download.sonatype.com\/nexus\/3\/nexus-3.62.0-01-unix.tar.gz\nsudo tar -zxvf nexus-3.62.0-01-unix.tar.gz\n\nsudo mkdir -p \/opt\/nexus\nsudo mv nexus-3.62.0-01 \/opt\/nexus\nsudo cd \/opt\/nexus\nsudo ln -s nexus-3.62.0-01\/bin\/nexus nexus\nsudo adduser nexus\nsudo chown nexus:nexus \/opt\/nexus\n\nsudo cat <<EOF > \/etc\/systemd\/system\/nexus.service\n[Unit]\nDescription=nexus service\nAfter=network.target\n\n[Service]\nType=forking\nExecStart=\/opt\/nexus\/nexus start\nExecStop=\/opt\/nexus\/nexus stop\nLimitNOFILE=65536\nUser=nexus\nRestart=on-abort\n\n[Install]\nWantedBy=multi-user.target\nEOF","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"login"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"Nexus_oss_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"init nexus","attrs":{"exit_status":[],"script":"sudo systemctl enable --now nexus.service\n\n#sudo firewall-cmd --zone=public --add-port=8087\/tcp --permanent\n#sudo firewall-cmd --zone=public --add-port=8086\/tcp --permanent\n#sudo firewall-cmd --zone=public --add-port=8081\/tcp --permanent\n#sudo firewall-cmd --reload\n\necho \"username: admin\"\necho \"password:\"\ncat \/opt\/nexus\/sonatype-work\/nexus3\/admin.password\necho \"this password only valid for 24h\/n\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"login"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"5b3e28ec_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"19611dc4_dag_cloned_1"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"Nexus"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"0c90e953_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"5bc486bc_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"0c90e953_dag_cloned_1"},"variable_list":[]},"upgrade_runbook":{}},"variable_list":[]},{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"OpenSearch_C_svc"}],"name":"OSC","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"OSC"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[{"kind":"app_task","name":"Install dependency"},{"kind":"app_task","name":"create component"}],"name":"19611dc4_dag_cloned_1_cloned_1","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install dependency"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"create component"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_C_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"Install dependency","attrs":{"exit_status":[],"script":"sudo yum install epel-release -y \nsudo yum install dnf -y\nsudo dnf install ansible -y\n\nsudo update-ca-certificates --fresh\nexport SSL_CERT_DIR=\/etc\/ssl\/certs\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_C_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"create component","attrs":{"exit_status":[],"script":"ansible-galaxy role install dimMaryanto93.opensearch --ignore-certs \nansible-galaxy collection install ansible.posix community.general --ignore-certs \n\ncat <<EOF > ~\/.ssh\/config\nHost localhost\n    StrictHostKeyChecking no\nEOF\nsudo chmod 700 ~\/.ssh\nsudo chmod 600 ~\/.ssh\/*\n\ncat <<EOF > .\/init.yaml\n---\n- hosts: [\"opensearch_c\"]\n  become: true\n  vars:\n\n    opensearch_version: 2.11.1\n    default_admin_password: \"nutanix\/4u\"\n    opensearch_cluster_enabled: false # set to true if you want cluster mode\n    opensearch_cluster_name: \"logging_system\"\n  roles:\n      - { role: dimMaryanto93.opensearch }\nEOF\n\ncat <<EOF > .\/inventory\nopensearch_c ansible_host=localhost ansible_port=22 ansible_user=root os_node_roles=\"[ ]\"  ansible_ssh_pass=nutanix\/4u opensearch_dashboard_enabled=false\nEOF\n\nansible-playbook init.yaml -i inventory","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"5b3e28ec_runbook_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"19611dc4_dag_cloned_1_cloned_1"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"OSC"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"0c90e953_dag_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"5bc486bc_runbook_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"0c90e953_dag_cloned_1_cloned_1"},"variable_list":[]},"upgrade_runbook":{}},"variable_list":[]},{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"OpenSearch_D_svc"}],"name":"OSD","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"OSD"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[{"kind":"app_task","name":"install dependency"},{"kind":"app_task","name":"init opensearch"}],"name":"19611dc4_dag_cloned_1_cloned_1_cloned_1","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"install dependency"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"init opensearch"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_D_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"install dependency","attrs":{"exit_status":[],"script":"sudo yum install epel-release -y \nsudo yum install dnf -y\nsudo dnf install ansible -y\n\nsudo update-ca-certificates --fresh\nexport SSL_CERT_DIR=\/etc\/ssl\/certs\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_D_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"init opensearch","attrs":{"exit_status":[],"script":"ansible-galaxy role install dimMaryanto93.opensearch --ignore-certs \nansible-galaxy collection install ansible.posix community.general --ignore-certs \n\ncat <<EOF > ~\/.ssh\/config\nHost localhost\n    StrictHostKeyChecking no\nEOF\nsudo chmod 700 ~\/.ssh\nsudo chmod 600 ~\/.ssh\/*\ncat <<EOF > .\/init.yaml\n---\n- hosts: [\"opensearch_d\"]\n  become: true\n  vars:\n\n    opensearch_version: 2.11.1\n    default_admin_password: \"nutanix\/4u\"\n    opensearch_cluster_enabled: false # set to true if you want cluster mode\n    opensearch_cluster_name: \"logging_system\"\n  roles:\n      - { role: dimMaryanto93.opensearch }\nEOF\n\ncat <<EOF > .\/inventory\nopensearch_d ansible_host=localhost ansible_port=22 ansible_user=root os_node_roles=\"[data, ingest]\" ansible_ssh_pass=nutanix\/4u opensearch_dashboard_enabled=false\nEOF\n\nansible-playbook init.yaml -i inventory","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"login"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"5b3e28ec_runbook_cloned_0_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"19611dc4_dag_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"OSD"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"0c90e953_dag_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"5bc486bc_runbook_cloned_0_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"0c90e953_dag_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"upgrade_runbook":{}},"variable_list":[]},{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"OpenSearch_M_svc"}],"name":"OSD_cloned_0","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"OSD_cloned_0"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[{"kind":"app_task","name":"install depedency"},{"kind":"app_task","name":"init os"}],"name":"19611dc4_dag_cloned_1_cloned_1_cloned_1_cloned_1","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"install depedency"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"init os"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_M_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"install depedency","attrs":{"exit_status":[],"script":"sudo yum install epel-release -y \nsudo yum install dnf -y\nsudo dnf install ansible -y\n\nsudo update-ca-certificates --fresh\nexport SSL_CERT_DIR=\/etc\/ssl\/certs\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"OpenSearch_M_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"init os","attrs":{"exit_status":[],"script":"ansible-galaxy role install dimMaryanto93.opensearch --ignore-certs \nansible-galaxy collection install ansible.posix community.general --ignore-certs \n\ncat <<EOF > ~\/.ssh\/config\nHost localhost\n    StrictHostKeyChecking no\nEOF\nsudo chmod 700 ~\/.ssh\nsudo chmod 600 ~\/.ssh\/*\n\ncat <<EOF > .\/init.yaml\n---\n- hosts: [\"opensearch_cm\"]\n  become: true\n  vars:\n\n    opensearch_version: 2.11.1\n    default_admin_password: \"nutanix\/4u\"\n    opensearch_cluster_enabled: false # set to true if you want cluster mode\n    opensearch_cluster_name: \"logging_system\"\n  roles:\n      - { role: dimMaryanto93.opensearch }\nEOF\n\ncat <<EOF > .\/inventory\nopensearch_cm ansible_host=localhost ansible_port=22 ansible_user=root ansible_ssh_pass=nutanix\/4u os_node_roles=\"[cluster_manager]\" opensearch_dashboard_enabled=true \nEOF\n\nansible-playbook init.yaml -i inventory","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"login"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"5b3e28ec_runbook_cloned_0_cloned_0_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"19611dc4_dag_cloned_1_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"OSD_cloned_0"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"0c90e953_dag_cloned_1_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"5bc486bc_runbook_cloned_0_cloned_0_cloned_0_cloned_0","main_task_local_reference":{"kind":"app_task","name":"0c90e953_dag_cloned_1_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"upgrade_runbook":{}},"variable_list":[]},{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"SkyWalking_APM_svc"}],"name":"SW","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SW"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[{"kind":"app_task","name":"install dependency"},{"kind":"app_task","name":"create and install component"},{"kind":"app_task","name":"install skywalking"}],"name":"19611dc4_dag_cloned_1_cloned_1_cloned_1","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"install dependency"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"create and install component"}},{"from_task_reference":{"kind":"app_task","name":"create and install component"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"install skywalking"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"SkyWalking_APM_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"install dependency","attrs":{"exit_status":[],"script":"sudo yum install epel-release -y\nsudo yum install dnf -y\nsudo yum install ansible -y\nsudo yum install git -y\n\nsudo update-ca-certificates --fresh\nexport SSL_CERT_DIR=\/etc\/ssl\/certs\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"SkyWalking_APM_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"create and install component","attrs":{"exit_status":[],"script":"mkdir ~\/download\ncd ~\/download\ngit clone https:\/\/github.com\/dimMaryanto93\/ansible-role-skywalking.git\n\nrm -f .\/ansible-role-skywalking\/defaults\/main.yml\n\ncat <<EOF > .\/ansible-role-skywalking\/defaults\/main.yml\n---\nskywalking_default_proto: tcp\nskywalking_ui_port: 8080\nskywalking_rest_port: 12800\nskywalking_grpc_port: 11800\nskywalking_zipkin_port: 9412\nskywalking_version: 10.0.0\nskywalking_download_url: https:\/\/dlcdn.apache.org\/skywalking\/{{ skywalking_version }}\/apache-skywalking-apm-{{ skywalking_version }}.tar.gz\nskywalking_install_path: \/opt\nskywalking_user: skywalking\nskywalking_download: true\n\nEOF","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"login"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"SkyWalking_APM_svc"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"install skywalking","attrs":{"exit_status":[],"script":"ansible-galaxy collection install ansible.posix community.general --ignore-certs \nansible-galaxy role install dimMaryanto93.skywalking --ignore-certs \n\ncat <<EOF > ~\/.ssh\/config\nHost localhost\n    StrictHostKeyChecking no\nEOF\n\ncat <<EOF > .\/init.yml\n---\n- hosts: [\"skywalking\"]\n  become: true\n  vars:\n    skywalking_version: 10.0.0\n    skywalking_download_url: https:\/\/archive.apache.org\/dist\/skywalking\/{{ skywalking_version }}\/apache-skywalking-apm-{{ skywalking_version }}.tar.gz\n  roles:\n      - { role: dimMaryanto93.skywalking }\nEOF\nsudo chmod 700 ~\/.ssh\nsudo chmod 600 ~\/.ssh\/*\ncat <<EOF > .\/inventory\nskywalking ansible_host=localhost ansible_port=22 ansible_user=root  ansible_ssh_pass=nutanix\/4u\nEOF\n\nansible-playbook init.yml -i inventory\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"login"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"5b3e28ec_runbook_cloned_0_cloned_0_cloned_1","main_task_local_reference":{"kind":"app_task","name":"19611dc4_dag_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SW"},"retries":"0","description":"","inherit_target":false,"child_tasks_local_reference_list":[],"name":"0c90e953_dag_cloned_1_cloned_1_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"5bc486bc_runbook_cloned_0_cloned_0_cloned_1","main_task_local_reference":{"kind":"app_task","name":"0c90e953_dag_cloned_1_cloned_1_cloned_1"},"variable_list":[]},"upgrade_runbook":{}},"variable_list":[]}],"app_profile_list":[{"deployment_create_list":[{"type":"GREENFIELD","action_list":[],"name":"5e6d1f75_deployment","min_replicas":"1","default_replicas":"1","depends_on_list":[],"published_service_local_reference_list":[],"max_replicas":"1","package_local_reference_list":[{"kind":"app_package","name":"GL"}],"substrate_local_reference":{"kind":"app_substrate","name":"GitLab"},"variable_list":[],"description":""},{"type":"GREENFIELD","action_list":[],"name":"1bb6d40a_deployment","min_replicas":"1","default_replicas":"2","depends_on_list":[],"editables":{"max_replicas":true},"published_service_local_reference_list":[],"max_replicas":"10","package_local_reference_list":[{"kind":"app_package","name":"GR"}],"substrate_local_reference":{"kind":"app_substrate","name":"GitLab_Runner"},"variable_list":[],"description":""},{"type":"GREENFIELD","action_list":[],"name":"ec79d0ae_deployment","min_replicas":"1","default_replicas":"1","depends_on_list":[],"published_service_local_reference_list":[],"max_replicas":"1","package_local_reference_list":[{"kind":"app_package","name":"Nexus"}],"substrate_local_reference":{"kind":"app_substrate","name":"Nexus_OSS"},"variable_list":[],"description":""},{"type":"GREENFIELD","action_list":[],"name":"fb61aeb2_deployment","min_replicas":"1","default_replicas":"1","depends_on_list":[],"published_service_local_reference_list":[],"max_replicas":"1","package_local_reference_list":[{"kind":"app_package","name":"OSC"}],"substrate_local_reference":{"kind":"app_substrate","name":"OpenSearch_C"},"variable_list":[],"description":""},{"type":"GREENFIELD","action_list":[],"name":"94cf3950_deployment","min_replicas":"1","default_replicas":"3","depends_on_list":[],"editables":{"max_replicas":true},"published_service_local_reference_list":[],"max_replicas":"10","package_local_reference_list":[{"kind":"app_package","name":"OSD"}],"substrate_local_reference":{"kind":"app_substrate","name":"OpenSearch_D"},"variable_list":[],"description":""},{"type":"GREENFIELD","action_list":[],"name":"2024f0eb_deployment","min_replicas":"1","default_replicas":"1","depends_on_list":[],"published_service_local_reference_list":[],"max_replicas":"1","package_local_reference_list":[{"kind":"app_package","name":"OSD_cloned_0"}],"substrate_local_reference":{"kind":"app_substrate","name":"OpenSearch_M"},"variable_list":[],"description":""},{"type":"GREENFIELD","action_list":[],"name":"5f2f2044_deployment","min_replicas":"1","default_replicas":"1","depends_on_list":[],"published_service_local_reference_list":[],"max_replicas":"1","package_local_reference_list":[{"kind":"app_package","name":"SW"}],"substrate_local_reference":{"kind":"app_substrate","name":"SkyWalking_APM"},"variable_list":[],"description":""}],"environment_reference_list":["8205eef4-8b42-e988-9e09-b731da7e334e"],"application_url":"","description":"","action_list":[],"name":"Default","restore_config_list":[],"snapshot_config_list":[],"patch_list":[],"variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"INSTANCE_PUBLIC_KEY","value":"ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAii7qFDhVadLx5lULAG\/ooCUTA\/ATSmXbArs+GdHxbUWd\/bNGZCXnaQ2L1mSVVGDxfTbSaTJ3En3tVlMtD2RjZPdhqWESCaoj2kXLYSiNDS9qz3SK6h822je\/f9O9CzCTrw2XGhnDVwmNraUvO5wmQObCDthTXc72PcBOd6oa4ENsnuY9HtiETg29TZXgCYPFXipLBHSZYkBmGgccAeY9dq5ywiywBJLuoSovXkkRJk3cd7GyhCRIwYzqfdgSmiAMYgJLrz\/UuLxatPqXts2D8v1xqR9EPNZNzgd4QHK4of1lqsNRuz2SxkwqLcXSw0mGcAL8mIwVpzhPzwmENC5Orw== rsa-key-20190108","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}]}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"login"},"type":"USER"},"name":"APM-LOGGING-CONTAINER"},"api_version":"3.0","metadata":{"last_update_time":"1719147815056809","kind":"blueprint","spec_version":79,"creation_time":"1718952056098639","name":"APM-LOGGING-CONTAINER"}}